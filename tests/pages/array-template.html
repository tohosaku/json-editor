<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <script src="../../dist/jsoneditor.js"></script>
</head>

<body>
  <textarea class="debug" cols="30" rows="10"></textarea>
  <button class="get-value">Get Value</button>
  <div class="container"></div>

  <script>
    var container = document.querySelector(".container");
    var debug = document.querySelector(".debug");
    var schema = {
      title: "Array with template",
      type: "array",
      format: "table",

      definitions: {
        item: {
          type: "object",
          properties: {
            first: {
              type: "number",
            },
            second: {
              type: "number",
            },
            total: {
              type: "string",
              template: "total",
              watch: {
                first: ".first",
                second: ".second"
              }
            },
          },
        },
      },
      items: {
        $ref: "#/definitions/item",
      },
    }

    JSONEditor.defaults.callbacks.template = {
      total: function (jseditor, e) {
        return e.first + e.second;
      },
    };
    const editor = new JSONEditor(container, {
      schema: schema,
    });

    document
      .querySelector(".get-value")
      .addEventListener("click", function () {
        debug.value = JSON.stringify(editor.getValue());
      });
  </script>
</body>

</html>